# Snapshot report for `test/test.js`

The actual snapshot is saved in `test.js.snap`.

Generated by [AVA](https://ava.li).

## AggregateNotFoundError

> aggregate "book", id "AjLS_AMKa"

    AggregateNotFoundError {
      aggregateId: 'AjLS_AMKa',
      aggregateName: 'book',
      message: 'cannot find aggregate "book" with id "AjLS_AMKa"',
    }

## DuplicateAggregateError

> aggregate "book", id "AjLS_AMKa"

    DuplicateAggregateError {
      aggregateId: 'AjLS_AMKa',
      aggregateName: 'book',
      message: '"book" with id "AjLS_AMKa" already exists',
    }

## EventPayloadError

> event "BOOK_NAME_SET", key "name"

    EventPayloadError {
      event: 'BOOK_NAME_SET',
      key: 'name',
      message: 'event payload missing "name"',
    }

## InvalidCommandParamsError

> message "name too short", aggregate "book", command "setName

    InvalidCommandParamsError {
      aggregateName: 'book',
      commandName: 'setName',
      message: 'aggregate "book": command "setName" called with invalid params: name too short',
    }

## InvariantViolatedError

> agreggate "book", id "AjLS_AMKa", empty state, msg "book cannot have zero length"

    InvariantViolatedError {
      aggregateId: 'AjLS_AMKa',
      aggregateName: 'book',
      state: {},
      message: 'book cannot have zero length',
    }

## MaxCommandAttemptsError

> agreggate "book", command "create", 5 attempts

    MaxCommandAttemptsError {
      aggregateName: 'book',
      attempts: 5,
      commandName: 'create',
      message: 'aggregate "book": command "create" failed after 5 attempts',
    }

## UnauthorizedError

> operation runCommand/setName/book/AjLS_AMKa, user "sally"

    UnauthorizedError {
      operation: {
        aggregateId: 'AjLS_AMKa',
        aggregateName: 'book',
        commandName: 'setName',
        type: 'runCommand',
      },
      userDesc: 'sally',
      message: 'user sally is not allowed to call runCommand on book AjLS_AMKa',
    }

## UnknownAggregateError

> aggregate "frog"

    UnknownAggregateError {
      aggregateName: 'frog',
      message: 'unknown aggregate "frog"',
    }

## UnknownCommandError

> aggregate "book", command "setZipCode"

    UnknownCommandError {
      aggregateName: 'book',
      commandName: 'setZipCode',
      message: 'aggregate "book": unknown command "setZipCode"',
    }

## UnknownEventTypeError

> event type "GRAB_SNAKE"

    UnknownEventTypeError {
      eventType: 'GRAB_SNAKE',
      message: 'unknown event type "GRAB_SNAKE"',
    }

## validateEventRepository()

> error when getEvents omitted

    ValidationError (Error) {
      _original: {
        writeEvent: Function noop {},
      },
      details: [
        {
          context: {
            key: 'getEvents',
            label: 'getEvents',
          },
          message: '"getEvents" is required',
          path: [
            'getEvents',
          ],
          type: 'any.required',
        },
      ],
      message: '"getEvents" is required',
    }

> error when writeEvent omitted

    ValidationError (Error) {
      _original: {
        getEvents: Function noop {},
      },
      details: [
        {
          context: {
            key: 'writeEvent',
            label: 'writeEvent',
          },
          message: '"writeEvent" is required',
          path: [
            'writeEvent',
          ],
          type: 'any.required',
        },
      ],
      message: '"writeEvent" is required',
    }

## validateNotificationHandler()

> error when invalidEventsFound omitted

    ValidationError (Error) {
      _original: {
        eventWritten: Function noop {},
      },
      details: [
        {
          context: {
            key: 'invalidEventsFound',
            label: 'invalidEventsFound',
          },
          message: '"invalidEventsFound" is required',
          path: [
            'invalidEventsFound',
          ],
          type: 'any.required',
        },
      ],
      message: '"invalidEventsFound" is required',
    }

> error when eventWritten omitted

    ValidationError (Error) {
      _original: {
        invalidEventsFound: Function noop {},
      },
      details: [
        {
          context: {
            key: 'eventWritten',
            label: 'eventWritten',
          },
          message: '"eventWritten" is required',
          path: [
            'eventWritten',
          ],
          type: 'any.required',
        },
      ],
      message: '"eventWritten" is required',
    }

## validateSnapshotRepository()

> error when getSnapshot omitted

    ValidationError (Error) {
      _original: {
        writeSnapshot: Function noop {},
      },
      details: [
        {
          context: {
            key: 'getSnapshot',
            label: 'getSnapshot',
          },
          message: '"getSnapshot" is required',
          path: [
            'getSnapshot',
          ],
          type: 'any.required',
        },
      ],
      message: '"getSnapshot" is required',
    }

> error when writeSnapshot omitted

    ValidationError (Error) {
      _original: {
        getSnapshot: Function noop {},
      },
      details: [
        {
          context: {
            key: 'writeSnapshot',
            label: 'writeSnapshot',
          },
          message: '"writeSnapshot" is required',
          path: [
            'writeSnapshot',
          ],
          type: 'any.required',
        },
      ],
      message: '"writeSnapshot" is required',
    }
